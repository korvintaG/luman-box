TelegramMessagingService предоставляет удобный интерфейс для отправки сообщений через Telegram и управления очередью сообщений. Он интегрируется с базой данных PostgreSQL и поддерживает автоматическую обработку очереди с помощью планировщика задач Nest.js.
Сервис сохраняет сообщения в базу данных PostgreSQL (таблица telegram-message) и обрабатывает их асинхронно, используя встроенный планировщик задач Nest.js (@Cron).

## Основные функции:
- Отправка сообщений в Telegram;
- Сохранение отправленных сообщений в базу данных;
- Обработка очереди сообщений с возможностью повторной отправки в случае ошибок;
- Не влияет на основные сцены, предусмотренные в боте для авторизации и управления аккаунтом;
- Логирует основные этапы работы сервиса.


## Методы
1. sendMessage()
Добавляет сообщение в базу данных для его дальнейшей отправки через метод handleTelegramMsgQueue()


2. handleTelegramMsgQueue()
Обрабатывает очередь сообщений, которые находятся в статусе "в очереди" (status = 0). Запускается автоматически каждую минуту с помощью декоратора @Cron.
Логика работы:

- Ищет в базе данных сообщения со статусом 0 (в очереди), получает chat_id user_id.

- Для каждого найденного сообщения:

 * Пытается отправить его через Telegram Bot API.

 * Если отправка успешна, обновляет статус сообщения на 1 (отправлено).

 * Если у пользователя нет chat_id, то меняет статус на 2 (ошибка отправки).

- Если возникает ошибка, обновляет статус сообщения на 2 (ошибка отправки). Такой сценарий может возникать если, например, пользователь заблокировал бот.


## Внедрение сервиса в любые части проекта
TelegramMessagingService можно использовать в любом другом сервисе или контроллере для отправки сообщений

### Пример: 
```
import { Injectable } from '@nestjs/common';
import { TelegramMessagingService } from './telegram-messages.service';

@Injectable()
export class SomeOtherService {
  constructor(private readonly telegramMessagingService: TelegramMessagingService) {}

  async notifyUser(userId: number, message: string) {
    await this.telegramMessagingService.sendMessage(userId, message);
  }
}
```